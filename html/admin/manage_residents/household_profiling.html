<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Household Profiling Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="../../../css/household_profiling-style.css">
    
</head>

<body>
    <div class="container mt-4">
        <h2 class="text-center mb-4">Household Profiling Form</h2>

        <!-- Household Information -->
        <div class="section-title">Household Information</div>
        <div class="row g-3">
            <div class="col-md-3"><input class="form-control" id="purok" placeholder="Purok" /></div>
            <div class="col-md-3"><input class="form-control" id="barangay" placeholder="Barangay" value="Ligaya" /></div>
            <div class="col-md-3"><input class="form-control" id="householdNo" placeholder="Household No." value="" /></div>
            <div class="col-md-3"><input class="form-control" id="city/district" placeholder="City/District"
                    value="General Santos City" />
            </div>
            <div class="col-md-3"><input class="form-control" id="province" placeholder="Province"
                    value="South Cotobato" /></div>
        </div>

        <!-- Ethnicity -->
        <div class="row g-3 align-items-center">
            <div class="col-md-3">
                <label class="form-label d-block section-title">Ethnicity</label>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="ipStatus" id="ipHousehold"
                        value="IP">
                    <label class="form-check-label" for="ipHousehold">IP Household</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="ipStatus" id="nonIpHousehold"
                        value="Non-IP">
                    <label class="form-check-label" for="nonIpHousehold">Non-IP Household</label>
                </div>
            </div>

            <div class="col-md-3 otherInputBox" id="tribeContainer">
                <input class="form-control" id="tribeInput" placeholder=" Indicate Tribe if IP Household" />
            </div>
        </div>


        <!-- Socioeconomic Status -->
        <div class="row g-3">
            <div class="row g-3 align-items-center">
                <div class="col-md-3">
                    <label class="form-label d-block section-title">Socioeconomic Status</label>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="SocioeconomicStatus" id="NHTS4ps"
                            value="NHTS 4ps">
                        <label class="form-check-label" for="NHTS4ps">NHTS 4ps</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="SocioeconomicStatus"
                            id="NHTS_Non-4ps" value="NHTS Non-4ps">
                        <label class="form-check-label" for="NHTS_Non-4ps">NHTS Non-4ps</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="SocioeconomicStatus"
                            id="Non-NHTS" value="Non-NHTS">
                        <label class="form-check-label" for="Non-NHTS">Non-NHTS</label>
                    </div>
                </div>

                <div class="col-md-3 otherInputBox" id="nhtsContainer">
                    <input class="form-control" id="nhtsInput" placeholder="indicate the NHTS no." />
                </div>
            </div>
        </div>

        <!-- Environmental Health -->
        <div class="section-title">Environmental Health</div>
        <div class="row g-3 ">
            <!-- Water Source-->
            <div class=" col-md-3">
                <label for="waterSource" class="form-label">Water Source Category</label>
                <select class="form-select" id="waterSource" onchange="toggleOtherInput(this)">
                    <option value="" disabled selected>Select</option>
                    <option value="Level I - Point Source">Level I - Point Source</option>
                    <option value="Level II - Communal Faucet">Level II - Communal Faucet</option>
                    <option value="Level III - Individual Connection">Level III - Individual Connection
                    </option>
                    <option value="Others">Others, specify</option>
                </select>
            </div>

            <div class="col-md-3 otherInputBox" id="otherWaterSourceContainer">
                <input type="text" class="form-control" id="otherWaterSourceInput"
                    placeholder="Please specify other water source" />
            </div>

            <!-- Toilet Facility -->
            <div class=" col-md-3">
                <label for="toiletFacility" class="form-label">Toilet Facility Type</label>
                <select class="form-select" id="toiletFacility">
                    <option value="" disabled selected>Select</option>
                    <option value="A">A - Pour/flush type connected to septic tank</option>
                    <option value="B">B - Pour/flush toilet connected to septic and to sewerage system
                    </option>
                    <option value="C">C - Ventilated pit (VIP) latrine </option>
                    <option value="D">D - Water-sealed toilet </option>
                    <option value="E">E - Overhung latrine </option>
                    <option value="F">F - Open pit latrine </option>
                    <option value="G">G - Without toilet </option>
                </select>
            </div>

        </div>

        <!-- Household Members -->
    <div class="section-title">Household Members</div>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <th rowspan="2"></th>
                    <th colspan="4" rowspan="2"> Name of Household Members</th>
                    <th rowspan="2"></th>
                    <th rowspan="2"></th>
                    <th rowspan="2"></th>
                    <th rowspan="2"></th>
                    <th colspan="3" rowspan="2">PhilHealth Information</th>
                    <th rowspan="2"> </th>
                    <th colspan="3" rowspan="2">WRA</th>
                    <th colspan="8">Classification by Age/Health Risk</th>
                    <th rowspan="2"></th>
                    <th rowspan="2"></th>
                    <th rowspan="2"></th>
                </tr>
                <tr class="row2">
                    <th colspan="2" class="quarter">1st Quarter</th>
                    <th colspan="2" class="quarter">2nd Quarter</th>
                    <th colspan="2" class="quarter">3rd Quarter</th>
                    <th colspan="2" class="quarter">4th Quarter</th>
                </tr>
                <!-- row 3-->
                <tr class="row3">
                    <th>#</th>
                    <th class="hmName">Last Name</th>
                    <th class="hmName">First Name</th>
                    <th class="hmName">Middle Name</th>
                    <th class="width3">Suffix</th>
                    <th class="width">Relationship to head</th>
                    <th class="width3">Sex</th>
                    <th class="width">Birthdate</th>
                    <th class="width2">Civil Status</th>
                    <th class="width">PhilHealth ID</th>
                    <th class="width2">Membership</th>
                    <th class="width2">Category</th>
                    <th class="width2">Medical History</th>
                    <th class="width2">Using any FP Method?</th>
                    <th class="width2">FP Method</th>
                    <th class="width2">FP Status</th>
                    <th>Age</th>
                    <th>Class</th>
                    <th>Age</th>
                    <th>Class</th>
                    <th>Age</th>
                    <th>Class</th>
                    <th>Age</th>
                    <th>Class</th>
                    <th class="width2">Education Attainment</th>
                    <th class="width">Religion</th>
                    <th class="width">Remarks</th>
                </tr>
            </thead>
            <tbody id="memberTableBody">
                <!-- the table row for adding members will automatically add -->

            </tbody>
        </table>
    </div>

    <div class="form-buttons"> 
        <button id="btn_submit" type="button" class="btn btn-primary">Submit</button>
        <button type="button" class="close-btn" onclick="history.back();">Cancel</button>
    </div>
    

    </div>

        <!-- Account Info Modal -->
    <div class="modal fade" id="accountInfoModal" tabindex="-1" aria-labelledby="accountInfoModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
            <h5 class="modal-title" id="accountInfoModalLabel">✅ Household Members Successfully Added!</h5>
            <button type="button" class="btn-close btn-close-white" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            <div id="accountInfoContent"></div>
            </div>
            <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal" id="closeModalBtn">Close</button>
            <button class="btn btn-primary" onclick="printAccountInfo()">Print</button>
            </div>
        </div>
        </div>
    </div>
    
            <!-- Confirm Reset Modal -->
        <div class="modal fade" id="confirmResetModal" tabindex="-1" aria-labelledby="confirmResetModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-warning">
                <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title" id="confirmResetModalLabel">⚠️ Confirm Before Clearing</h5>
                <button type="button" class="btn-close" aria-label="Close"></button>
                </div>
                <div class="modal-body fs-6">
                <p>
                    Have you already <strong>printed</strong> or <strong>informed the resident</strong> of their generated email and password?
                </p>
                <p class="text-danger mb-0"><strong>This action will clear all data and cannot be undone.</strong></p>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Not Yet</button>
                <button id="confirmResetBtn" type="button" class="btn btn-danger">Yes, I Have</button>
                
            </div>
            </div>
        </div>
        </div>

        <div class="modal fade" id="householdExistsModal" tabindex="-1" aria-labelledby="householdExistsModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
            <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="householdExistsModalLabel">Household Already Exists</h5>
                <button type="button" class="btn-close btn-close-white" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                <div id="householdExistsModalContent">This household already exists in the database.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="btnCancelAdd">Cancel Submission</button>
                    <button type="button" class="btn btn-primary" id="btnAddMemberOnly">Add New Household Member</button>
                </div>
            </div>
            </div>
        </div>

        <!-- Household Exists Modal -->
     
               
          <div class="modal fade" id="memberExistsModal" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                  <h5 class="modal-title">🚫 Duplicate Household Member</h5>
                </div>
                <div class="modal-body">
                  One or more household members already exist in the database.<br>
                  Please recheck and add again.
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="memberExistsOkayBtn">OKAY</button>

                </div>
              </div>
            </div>
          </div>
          
            
    <!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <script src="../../../js/memberTableRow-script.js"></script>
    <script src="../../../js/add_resident-script.js"></script>

    <script src="../../../js/residents-info.js"></script>

    
</body>

</html>